(this.webpackJsonpjokes=this.webpackJsonpjokes||[]).push([[0],{51:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),i=a(29),l=a.n(i),s=a(26),u=a(37),m=a(14),d=a(81),f=a(82),v=a(77),p=a(83),E=a(87),k=a(84),h=a(85),b=a(86),g=a(43),j=a(75),y=a(76),O=a(78),J=a(79),F=a(41),S=a.n(F),w=a(42),x=a.n(w),I=a(74),C=Object(I.a)({card:{marginBottom:20},cardContent:{paddingRight:0}});var N=function(e){var t=e.joke,a=e.favorite,n=e.addToFavoriteJokes,o=e.removeFromFavoriteJokes,c=Object(g.a)(e,["joke","favorite","addToFavoriteJokes","removeFromFavoriteJokes"]),i=C();return r.a.createElement(j.a,Object.assign({className:i.card},c),r.a.createElement(b.a,{p:2,display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"}},r.a.createElement(y.a,{className:i.cardContent},r.a.createElement(v.a,{variant:"body1"},t.joke)),r.a.createElement(O.a,null,a?r.a.createElement(J.a,{"aria-label":"unfavorite",color:"secondary",onClick:function(){return o(t.id)}},r.a.createElement(S.a,null)):r.a.createElement(J.a,{"aria-label":"favorite",color:"secondary",onClick:function(){return n(t.id)}},r.a.createElement(x.a,null)))))},T=a(80),B=function(){return r.a.createElement(b.a,{textAlign:"center",p:4},r.a.createElement(T.a,{color:"secondary"}))};var W=function(){var e=r.a.useState(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],o=r.a.useState(0),c=Object(m.a)(o,2),i=c[0],g=c[1],j=r.a.useState(1),y=Object(m.a)(j,2),O=y[0],J=y[1],F=r.a.useState(null),S=Object(m.a)(F,2),w=S[0],x=S[1],I=r.a.useState([]),C=Object(m.a)(I,2),T=C[0],W=C[1],A=r.a.useState([]),z=Object(m.a)(A,2),G=z[0],M=z[1];r.a.useEffect((function(){R()}),[O]),r.a.useEffect((function(){$()}),[]);var R=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,fetch("https://icanhazdadjoke.com/search?page=".concat(O,"&limit=10"),{method:"GET",headers:{Accept:"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,x(a.total_pages),W([].concat(Object(s.a)(T),Object(s.a)(a.results))),n(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),n(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=JSON.parse(localStorage.getItem("favorites"));M(e||[])},_=function(e){var t=[T.find((function(t){return t.id===e}))].concat(Object(s.a)(G));M(t),localStorage.setItem("favorites",JSON.stringify(t))},q=function(e){var t=G.filter((function(t){return t.id!==e}));M(t),localStorage.setItem("favorites",JSON.stringify(t))},D=function(e){if(e){var t=new IntersectionObserver((function(a){!0===a[0].isIntersecting&&(O<w&&J((function(e){return e+1})),t.unobserve(e))}),{threshold:1});t.observe(e)}};return r.a.useEffect((function(){var e=document.getElementById("joke-".concat(T.length-1));D(e)}),[T]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement(f.a,{style:{maxWidth:1e3}},r.a.createElement(v.a,{variant:"h1",align:"center",style:{margin:"4rem 0",fontSize:"4rem"}},"Jokes App"),r.a.createElement(p.a,{position:"sticky",color:"default"},r.a.createElement(E.a,{value:i,onChange:function(e,t){g(t)},variant:"fullWidth",centered:!0},r.a.createElement(k.a,{label:"Jokes",id:"jokes-tab","aria-controls":"jokes-panel"}),r.a.createElement(k.a,{label:r.a.createElement(h.a,{color:"secondary",badgeContent:G.length>0?G.length:null},"Favorites",r.a.createElement("span",null,"\u2003")),id:"favorites-tab","aria-controls":"favorites-panel"}))),r.a.createElement(b.a,{role:"tabpanel",hidden:0!==i,my:4},T.map((function(e,t){return r.a.createElement(N,{id:"joke-".concat(t),key:e.id,joke:e,favorite:G.some((function(t){return t.id===e.id})),addToFavoriteJokes:_,removeFromFavoriteJokes:q})})),a&&r.a.createElement(B,null)),r.a.createElement(b.a,{role:"tabpanel",hidden:1!==i,my:4},G.map((function(e){return r.a.createElement(N,{key:e.id,joke:e,favorite:G.some((function(t){return t.id===e.id})),addToFavoriteJokes:_,removeFromFavoriteJokes:q})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.5e2fbacf.chunk.js.map